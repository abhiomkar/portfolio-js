/*
 * Portfolio.js v1.0
 * jQuery Plugin for Portfolio Gallery
 * http://portfoliojs.com
 *
 * Copyright (c) 2012 Abhinay Omkar (http://abhiomkar.in) @abhiomkar
 * Licensed under the MIT License:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Dependencies
 *  - jQuery: http://jquery.com
 *  - jQuery easing: http://gsgd.co.uk/sandbox/jquery/easing
 *  - jQuery touch swipe: http://labs.skinkers.com/touchSwipe
 *  - jQuery imagesLoaded: http://desandro.github.com/imagesloaded
 *  - jQuery scrollTo: http://flesler.blogspot.in/2007/10/jqueryscrollto.html
 *  - JS Spin: http://fgnass.github.com/spin.js

 * */(function(e){e.fn.portfolio=function(t){var n={autoplay:!1,firstLoadCount:4,enableKeyboardNavigation:!0,loop:!1,easingMethod:"easeOutQuint",height:"500px",width:"100%",lightbox:!1,showArrows:!0,logger:!0};e.extend(this,n,t);var r=this,i=this,s,o=0,u=6,a=!1;e.extend(this,{version:"0.1v",init:function(){r.scrollToOptions={axis:"x",easing:r.easingMethod,offset:-4},e(window).width()<=700&&(r.height="200px"),e(this).css({width:r.width,"max-height":r.height,"overflow-x":"scroll","overflow-y":"hidden","white-space":"nowrap"}),e(this).find("img").css({display:"inline-block","max-width":"none",height:r.height,width:"auto"}),e(this).find("img").css("display","none"),e(this).find("img").attr("loaded","false"),e(this).find("img").first().attr("first","true").css({"margin-left":"5px"}),e(this).find("img").last().attr("last","true").css({"margin-right":"6px"}),r.spinner.show("100%"),r.loadNextImages(r.firstLoadCount),e(this).find("img").first().addClass("active"),r.lightbox&&(e(i).find("img").not(".active").animate({opacity:"0.2"}),e(i).find("img.active").animate({opacity:"1"}),e(i).css({"overflow-x":"hidden"})),r.showArrows&&r.navigation.show(),e(".gallery-blank-space").css({position:"absolute",width:"5px",height:r.height}),e(this).swipe({swipeLeft:function(){r.next()},swipeRight:function(){r.prev()}}),e(this).find("img").on("movestart",function(e){f.log("movestart"),(e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY)&&e.preventDefault()}),e(this).find("img").click(function(t){e(i).find("img.active")[0]===e(this)[0]?r.next():r.slideTo(e(this))}),e(this).scroll(function(){e(i).find("img").last().attr("loaded")==="true"&&e(".gallery-blank-space").css({left:e(i).find("img").last().data("offset-left")+e(i).find("img").last().width()+"px"}),(i[0].offsetWidth+i.scrollLeft())*100/i[0].scrollWidth>60&&o<e(i).find("img").length&&(f.log("scroll(): loading some more images"),r.loadNextImages(6))}),e(window).resize(function(){e(window).width()<=700&&e(i).find("img").first().height()!==200?(e(i).css({height:"200px"}),e(i).find("img").css({height:"200px"}),e(i).find(".gallery-arrow-left, .gallery-arrow-right").css({height:"200px"})):e(window).width()>700&&e(i).find("img").first().height()===200&&(e(i).css({height:r.height}),e(i).find("img").css({height:r.height}),e(i).find(".gallery-arrow-left, .gallery-arrow-right").css({height:r.height}))})},next:function(){var t=e(i).find("img.active"),n=t.parent("a").length>0?t.parent().next().find("img"):t.next();e(t).attr("last")==="true"?r.loop?(f.log("last","loop: on"),e(i).scrollTo(0,500,r.scrollToOptions),e(i).find("img").removeClass("active").first().addClass("active"),r.lightbox&&(e(i).find("img").not(".active").animate({opacity:"0.2"}),e(i).find("img.active").animate({opacity:"1"}))):f.log("last","loop: off"):e(n).attr("loaded")==="true"?(e(i).scrollTo(n,600,r.scrollToOptions),e(i).find("img").removeClass("active"),e(n).addClass("active"),r.lightbox&&(e(i).find("img").not(".active").animate({opacity:"0.2"}),e(i).find("img.active").animate({opacity:"1"}))):e(n).attr("loaded")==="false"&&f.log("next images are being loaded..."),f.log("next: current viewing image",e(i).find("img.active"))},prev:function(){var t=e(i).find("img.active"),n=t.parent("a").length>0?t.parent().prev().find("img"):t.prev();e(t).attr("first")!=="true"&&n&&(e(i).scrollTo(n,500,r.scrollToOptions),e(i).find("img").removeClass("active"),e(n).addClass("active"),r.lightbox&&(e(i).find("img").not(".active").animate({opacity:"0.2"}),e(i).find("img.active").animate({opacity:"1"}))),f.log("prev: current viewing image",e(i).find("img.active"))},slideTo:function(t){e(i).scrollTo(t,500,r.scrollToOptions),e(i).find("img").removeClass("active"),e(t).addClass("active"),r.lightbox&&(e(i).find("img").not(".active").animate({opacity:"0.2"}),e(i).find("img.active").animate({opacity:"1"}))},spinner:{remove:function(){e(i).find(".spinner-container").remove()},show:function(t){r.spinner.remove();var n=e(i).find("img[loaded=true]").last();e(i).append('<span class="spinner-container"></span>'),e(i).find(".spinner-container").css({display:"inline-block",height:r.height,width:t,"vertical-align":"top"});var s={lines:17,length:4,width:2,radius:5,corners:1,rotate:0,color:"#000",speed:1.5,trail:72,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:parseInt(r.height)/2,left:"auto"},o=(new Spinner(s)).spin(e(i).find(".spinner-container")[0])}},loadNextImages:function(t){if(!a){var n;n=e(i).find("img[loaded=false]").slice(0,t),e(n).each(function(t){var n=this;n.src=e(n).data("src"),e(n).attr("loaded","loading")}),e(n).imagesLoaded(function(t){f.log("images loaded:"),f.log(t),t.each(function(t){var n=this;e(n).css({display:"none"}),r.spinner.remove(),e(n).fadeIn("slow"),img_width=e(n).width(),o+=1,e(n).data("width",img_width),e(n).attr("loaded","true")}),r.spinner.show("100px"),a=!1,o===e(i).find("img").length?r.spinner.remove():i[0].offsetWidth===i[0].scrollWidth&&r.loadNextImages(6)}),a=!0}},navigation:{show:function(){r.navigation.created?(e(".gallery-arrow-left, .gallery-arrow-right").show(),e(".gallery-arrow-left, .gallery-arrow-right").delay(6e3).fadeOut()):(e(i).before('<span class="gallery-arrow-left"></span>').after('<span class="gallery-arrow-right"></span>'),e(i).prev(".gallery-arrow-left").css({position:"absolute",left:"8px",height:r.height,width:"50px","z-index":"9999",background:"url(data:image/png;base64,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) center left no-repeat","background-position":"8px",opacity:"0.5"}),e(i).next(".gallery-arrow-right").css({position:"absolute",right:"0",top:e(i).position().top,height:r.height,width:"50px","z-index":"9999",background:"url(data:image/png;base64,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) center left no-repeat","background-position":"8px",opacity:"0.5"}),e(i).prev(".gallery-arrow-left").click(function(e){r.prev()}),e(i).next(".gallery-arrow-right").click(function(e){r.next()}),e(".gallery-arrow-left, .gallery-arrow-right").hover(function(){e(this).css({opacity:"1"})},function(){e(this).css({opacity:"0.5"})}),e(i).mousemove(function(){r.navigation.show()}),e(".gallery-arrow-left, .gallery-arrow-right").delay(6e3).fadeOut(),r.navigation.created=!0)},hide:function(){e(".gallery-arrow-left, .gallery-arrow-right").fadeOut()},created:!1}}),this.enableKeyboardNavigation&&e(document).keydown(function(t){var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0;switch(n){case 73:r.slideTo(e(i).find("img").first());break;case 65:r.slideTo(e(i).find("img").last());break;case 75:case 37:r.navigation.hide(),r.prev(),t.preventDefault();break;case 39:r.navigation.hide(),r.next(),t.preventDefault()}});var f={log:function(){if(this.active)for(var e=0,t=arguments.length;e<t;e++)console.log(arguments[e])},active:r.logger};return this}})(jQuery);